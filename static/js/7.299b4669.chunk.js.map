{"version":3,"sources":["components/Home/index.js"],"names":["Home","props","_this","Object","_home_ikraduya_Kuliah_sem_4_asisten_nimfinder_engi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_ikraduya_Kuliah_sem_4_asisten_nimfinder_engi_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_ikraduya_Kuliah_sem_4_asisten_nimfinder_engi_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","toggleDropDownSearchBy","bind","_home_ikraduya_Kuliah_sem_4_asisten_nimfinder_engi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","toggleDropDownResultPerPage","selectSearchByParam","selectResultPerPageParam","handleSearchTextChange","fetchStudentData","state","dropDownSearchByText","dropDownSearchByOpen","dropDownResultPerPageText","dropDownResultPerPageOpen","studentList","searchText","page","searchBy","maxItem","cookiesToken","prevBtnEnable","nextBtnEnable","redirect","_this2","Cookies","get","setState","Swal","fire","title","type","timer","animation","then","target","_ref","value","_ref2","name","_ref3","params","_this$state","query","count","axios","withCredentials","headers","Access-Control-Allow-Headers","_ref4","data","console","log","catch","text","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","className","style","marginRight","width","reactstrap__WEBPACK_IMPORTED_MODULE_10__","href","marginLeft","_this$state2","react_router_dom__WEBPACK_IMPORTED_MODULE_27__","to","pathname","push","reactstrap__WEBPACK_IMPORTED_MODULE_11__","reactstrap__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","xs","sm","md","reactstrap__WEBPACK_IMPORTED_MODULE_14__","reactstrap__WEBPACK_IMPORTED_MODULE_15__","reactstrap__WEBPACK_IMPORTED_MODULE_16__","reactstrap__WEBPACK_IMPORTED_MODULE_17__","placeholder","onChange","reactstrap__WEBPACK_IMPORTED_MODULE_18__","addonType","isOpen","toggle","reactstrap__WEBPACK_IMPORTED_MODULE_19__","color","caret","reactstrap__WEBPACK_IMPORTED_MODULE_20__","onClick","reactstrap__WEBPACK_IMPORTED_MODULE_21__","reactstrap__WEBPACK_IMPORTED_MODULE_22__","reactstrap__WEBPACK_IMPORTED_MODULE_23__","reactstrap__WEBPACK_IMPORTED_MODULE_24__","responsive","scope","reactstrap__WEBPACK_IMPORTED_MODULE_25__","renderPagination","React","PureComponent","withRouter"],"mappings":"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","file":"static/js/7.299b4669.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardHeader,\n  CardBody,\n  Table,\n  Input,\n  InputGroup,\n  InputGroupButtonDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle,\n  Button,\n  CardFooter,\n  Pagination,\n  PaginationItem,\n  PaginationLink,\n} from 'reactstrap';\nimport Swal from 'sweetalert2';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\n\nclass Home extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.toggleDropDownSearchBy = this.toggleDropDownSearchBy.bind(this);\n    this.toggleDropDownResultPerPage = this.toggleDropDownResultPerPage.bind(this);\n    this.selectSearchByParam = this.selectSearchByParam.bind(this);\n    this.selectResultPerPageParam = this.selectResultPerPageParam.bind(this);\n    this.handleSearchTextChange = this.handleSearchTextChange.bind(this);\n    this.fetchStudentData = this.fetchStudentData.bind(this);\n\n    this.state = {\n      dropDownSearchByText: 'Search By: NIM',\n      dropDownSearchByOpen: false,\n      dropDownResultPerPageText: 'Result Per Page: 10',\n      dropDownResultPerPageOpen: false,\n      studentList: [],\n      \n      // Fetchdata params\n      searchText: '',\n      page: 0,\n      searchBy: 'id',\n      maxItem: 10,\n      cookiesToken: '',\n\n      // pagination\n      prevBtnEnable: false,\n      nextBtnEnable: false,\n\n      redirect: '',\n    }\n  }\n\n  componentDidMount() {\n    const cookies = new Cookies();\n    const cookiesToken = cookies.get('token');\n    if (!cookiesToken || cookiesToken === '') {  // redirect to login\n      Swal.fire({\n        title: 'You need to Log In first!',\n        type: 'info',\n        timer: '2000',\n        animation: true\n      }).then(() => {\n        this.setState({\n          redirect: '/login',\n        })\n      })\n    } else {\n      this.setState({\n        cookiesToken,\n      })\n    }\n  }\n\n  handleSearchTextChange({ target }) {\n    this.setState({\n      searchText: target.value,\n    });\n  }\n\n  toggleDropDownSearchBy() {\n    this.setState({\n      dropDownSearchByOpen: !this.state.dropDownSearchByOpen,\n    });\n  }\n\n  toggleDropDownResultPerPage() {\n    this.setState({\n      dropDownResultPerPageOpen: !this.state.dropDownResultPerPageOpen,\n    });\n  }\n\n  selectSearchByParam({ target }) {\n    this.setState({\n      dropDownSearchByText: 'Search By: ' + target.name,\n      searchBy: target.value,\n    });\n  }\n\n  selectResultPerPageParam({ target }) {\n    this.setState({\n      dropDownResultPerPageText: 'Result Per Page: ' + target.value,\n      maxItem: target.value,\n    });\n  }\n\n  fetchStudentData() {\n    const { searchText, searchBy, maxItem, page } = this.state;\n\n    let params;\n    if (searchBy === \"id\") {\n      params = {\n        query: searchText,\n        count: maxItem,\n        page,\n      }\n    } else {  // by name\n      params = {\n        name: searchText,\n        count: maxItem,\n        page,\n      }\n    }\n    axios.get('https://api.stya.net/nim/by' + searchBy, {\n      params,\n      withCredentials: true,\n      headers: {\n        'Access-Control-Allow-Headers':'application/json',\n      }\n    })\n      .then(({data}) => {\n        console.log(\"data\", data);\n      })\n      .catch(() => {\n        Swal.fire({\n          type: 'error',\n          title: 'Oops...',\n          text: 'Could not contact the server'\n        });\n      })\n  }\n\n  renderPagination() {\n    const { page } = this.state;\n\n    return (\n      <Pagination>\n        <PaginationItem className=\"text-center\"  style={{marginRight: \"auto\", width: \"90px\"}}>\n          <PaginationLink href=\"#\" >Previous</PaginationLink>\n        </PaginationItem>\n        <PaginationItem className=\"text-center\" style={{marginLeft: \"auto\", width: \"90px\"}}>\n          <PaginationLink href=\"#\" >Next</PaginationLink>\n        </PaginationItem>\n      </Pagination>\n    );\n  }\n  \n  render() {\n    const { redirect, searchText, dropDownSearchByOpen, dropDownSearchByText, dropDownResultPerPageOpen, dropDownResultPerPageText } = this.state;\n    if (redirect) {\n      return (\n        <Redirect\n          to={{pathname: redirect}}\n          push\n        />\n      );\n    }\n\n    return (\n      <div>\n        <Container>\n          <Row>\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\n              <Card className=\"home-card\">\n                <CardHeader>\n                  <InputGroup>\n                    <Input \n                      placeholder=\"Search...\" \n                      onChange={this.handleSearchTextChange}\n                      value={searchText || ''}\n                      name=\"search-text\"\n                    />\n                    \n                    <InputGroupButtonDropdown addonType=\"append\" isOpen={dropDownSearchByOpen} toggle={this.toggleDropDownSearchBy}>\n                      <DropdownToggle color=\"success\" caret>\n                        {dropDownSearchByText}\n                      </DropdownToggle>\n                      <DropdownMenu  onClick={this.selectSearchByParam}>\n                        <DropdownItem name=\"NIM\" value=\"id\">NIM</DropdownItem>\n                        <DropdownItem name=\"Nama\" value=\"name\">Nama</DropdownItem>\n                      </DropdownMenu>\n                    </InputGroupButtonDropdown>\n\n                    <InputGroupButtonDropdown addonType=\"append\" isOpen={dropDownResultPerPageOpen} toggle={this.toggleDropDownResultPerPage}>\n                      <DropdownToggle color=\"primary\" caret>\n                        {dropDownResultPerPageText}\n                      </DropdownToggle>\n                      <DropdownMenu onClick={this.selectResultPerPageParam}>\n                        <DropdownItem value=\"10\">10</DropdownItem>\n                        <DropdownItem value=\"25\">25</DropdownItem>\n                        <DropdownItem value=\"50\">50</DropdownItem>\n                        <DropdownItem value=\"100\">100</DropdownItem>\n                      </DropdownMenu>\n                    </InputGroupButtonDropdown>\n\n                    <Button className=\"ml-2\" color=\"primary\" onClick={this.fetchStudentData}>Search</Button>\n                  </InputGroup>\n                </CardHeader>\n\n                <CardBody className=\"card-table\">\n                  <Table responsive>\n                    <thead>\n                      <tr>\n                        <th>Nama</th>\n                        <th>NIM TPB</th>\n                        <th>NIM Jurusan</th>\n                        <th>Prodi</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr>\n                        <th scope=\"row\">Ikraduya Edian</th>\n                        <th>16517187</th>\n                        <th>13517106</th>\n                        <th>Teknik Informatika</th>\n                      </tr>\n                      <tr>\n                        <th scope=\"row\">Ikraduya Edian 2</th>\n                        <th>16517000</th>\n                        <th>13517000</th>\n                        <th>Teknik Informatika</th>\n                      </tr>\n                    </tbody>\n                  </Table>\n                </CardBody>\n              \n                <CardFooter>{this.renderPagination()}</CardFooter>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Home);"],"sourceRoot":""}