(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{122:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(12),l=t(15),c=t(13),o=t(7),s=t(14),u=t(1),i=t.n(u),h=t(78),m=t.n(h),d=t(123),p=t(124),g=t(125),E=t(67),P=t(74),y=t(75),w=t(126),D=t(127),v=t(128),S=t(129),f=t(138),k=t(130),x=t(131),b=t(132),B=t(116),O=t(133),T=t(134),R=t(135),N=t(80),j=t.n(N),I=t(10),C=t(26),M=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).toggleDropDownSearchBy=t.toggleDropDownSearchBy.bind(Object(o.a)(t)),t.toggleDropDownResultPerPage=t.toggleDropDownResultPerPage.bind(Object(o.a)(t)),t.selectSearchByParam=t.selectSearchByParam.bind(Object(o.a)(t)),t.selectResultPerPageParam=t.selectResultPerPageParam.bind(Object(o.a)(t)),t.handleSearchTextChange=t.handleSearchTextChange.bind(Object(o.a)(t)),t.fetchStudentData=t.fetchStudentData.bind(Object(o.a)(t)),t.state={dropDownSearchByText:"Search By: NIM",dropDownSearchByOpen:!1,dropDownResultPerPageText:"Result Per Page: 10",dropDownResultPerPageOpen:!1,studentList:[],searchText:"",page:0,searchBy:"id",maxItem:10,cookiesToken:"",prevBtnEnable:!1,nextBtnEnable:!1,redirect:""},t}return Object(s.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=(new C.a).get("token");a&&""!==a?this.setState({cookiesToken:a}):j.a.fire({title:"You need to Log In first!",type:"info",timer:"2000",animation:!0}).then(function(){e.setState({redirect:"/login"})})}},{key:"handleSearchTextChange",value:function(e){var a=e.target;this.setState({searchText:a.value})}},{key:"toggleDropDownSearchBy",value:function(){this.setState({dropDownSearchByOpen:!this.state.dropDownSearchByOpen})}},{key:"toggleDropDownResultPerPage",value:function(){this.setState({dropDownResultPerPageOpen:!this.state.dropDownResultPerPageOpen})}},{key:"selectSearchByParam",value:function(e){var a=e.target;this.setState({dropDownSearchByText:"Search By: "+a.name,searchBy:a.value})}},{key:"selectResultPerPageParam",value:function(e){var a=e.target;this.setState({dropDownResultPerPageText:"Result Per Page: "+a.value,maxItem:a.value})}},{key:"fetchStudentData",value:function(){var e,a=this.state,t=a.searchText,n=a.searchBy,r=a.maxItem,l=a.page;e="id"===n?{query:t,count:r,page:l}:{name:t,count:r,page:l},m.a.get("https://api.stya.net/nim/by"+n,{params:e,withCredentials:!0,headers:{"Access-Control-Allow-Headers":"application/json"}}).then(function(e){var a=e.data;console.log("data",a)}).catch(function(){j.a.fire({type:"error",title:"Oops...",text:"Could not contact the server"})})}},{key:"renderPagination",value:function(){this.state.page;return i.a.createElement(d.a,null,i.a.createElement(p.a,{className:"text-center",style:{marginRight:"auto",width:"90px"}},i.a.createElement(g.a,{href:"#"},"Previous")),i.a.createElement(p.a,{className:"text-center",style:{marginLeft:"auto",width:"90px"}},i.a.createElement(g.a,{href:"#"},"Next")))}},{key:"render",value:function(){var e=this.state,a=e.redirect,t=e.searchText,n=e.dropDownSearchByOpen,r=e.dropDownSearchByText,l=e.dropDownResultPerPageOpen,c=e.dropDownResultPerPageText;return a?i.a.createElement(I.a,{to:{pathname:a},push:!0}):i.a.createElement("div",null,i.a.createElement(E.a,null,i.a.createElement(P.a,null,i.a.createElement(y.a,{xs:"12",sm:"12",md:"12"},i.a.createElement(w.a,{className:"home-card"},i.a.createElement(D.a,null,i.a.createElement(v.a,null,i.a.createElement(S.a,{placeholder:"Search...",onChange:this.handleSearchTextChange,value:t||"",name:"search-text"}),i.a.createElement(f.a,{addonType:"append",isOpen:n,toggle:this.toggleDropDownSearchBy},i.a.createElement(k.a,{color:"success",caret:!0},r),i.a.createElement(x.a,{onClick:this.selectSearchByParam},i.a.createElement(b.a,{name:"NIM",value:"id"},"NIM"),i.a.createElement(b.a,{name:"Nama",value:"name"},"Nama"))),i.a.createElement(f.a,{addonType:"append",isOpen:l,toggle:this.toggleDropDownResultPerPage},i.a.createElement(k.a,{color:"primary",caret:!0},c),i.a.createElement(x.a,{onClick:this.selectResultPerPageParam},i.a.createElement(b.a,{value:"10"},"10"),i.a.createElement(b.a,{value:"25"},"25"),i.a.createElement(b.a,{value:"50"},"50"),i.a.createElement(b.a,{value:"100"},"100"))),i.a.createElement(B.a,{className:"ml-2",color:"primary",onClick:this.fetchStudentData},"Search"))),i.a.createElement(O.a,{className:"card-table"},i.a.createElement(T.a,{responsive:!0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Nama"),i.a.createElement("th",null,"NIM TPB"),i.a.createElement("th",null,"NIM Jurusan"),i.a.createElement("th",null,"Prodi"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("th",{scope:"row"},"Ikraduya Edian"),i.a.createElement("th",null,"16517187"),i.a.createElement("th",null,"13517106"),i.a.createElement("th",null,"Teknik Informatika")),i.a.createElement("tr",null,i.a.createElement("th",{scope:"row"},"Ikraduya Edian 2"),i.a.createElement("th",null,"16517000"),i.a.createElement("th",null,"13517000"),i.a.createElement("th",null,"Teknik Informatika"))))),i.a.createElement(R.a,null,this.renderPagination()))))))}}]),a}(i.a.PureComponent);a.default=Object(I.e)(M)}}]);
//# sourceMappingURL=7.299b4669.chunk.js.map