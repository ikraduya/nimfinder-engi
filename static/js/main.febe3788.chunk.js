(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(32),s=a.n(l),o=(a(63),a(17)),i=a(24),c=a(52),u=a(10),d=a(11),m=a(14),h=a(12),g=a(6),p=a(13),E=a(105),f=a(106),v=a(107),y=a(108),b=a(109),w=a(110),P=a(111),O=a(112),S=a(20),x=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).toggle=a.toggle.bind(Object(g.a)(a)),a.handleLogout=a.handleLogout.bind(Object(g.a)(a)),a.state={redirect:"",isOpen:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"handleLogout",value:function(){(new S.a).remove("token"),this.setState({redirect:"/login"})}},{key:"render",value:function(){var e=this.state.redirect;return e&&window.location.pathname!==e?r.a.createElement(i.a,{to:e,push:!0}):r.a.createElement(E.a,{className:"mb-4",color:"primary",dark:!0,expand:"md"},r.a.createElement(f.a,{fluid:!0},r.a.createElement(v.a,{tag:o.b,to:"/"},"Aromage NIMFinder"),r.a.createElement(y.a,{onClick:this.toggle}),r.a.createElement(b.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(w.a,{className:"ml-auto",navbar:!0},r.a.createElement(P.a,null,r.a.createElement(O.a,{style:{color:"white"},onClick:this.handleLogout,href:"#"},"Logout"))))))}}]),t}(r.a.PureComponent),k=a(113),j=a(114),C=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement("div",{className:"text-center mt-3"},r.a.createElement("p",null,"Copyright \xa92019 Ikraduya Edian - Jambi, Indonesia.")))))}}]),t}(r.a.PureComponent),D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).renderHeader=a.renderHeader.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"renderHeader",value:function(e,t){return e||t?r.a.createElement("div",{className:"my-4"}):r.a.createElement(x,null)}},{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(c.a)(t,["component"]);return r.a.createElement(i.b,Object.assign({},n,{render:function(t){return r.a.createElement("div",null,e.renderHeader(n.auth,n.nomatch),r.a.createElement(a,t),r.a.createElement(C,null))}}))}}]),t}(r.a.PureComponent),T=(a(79),a(25)),N=a.n(T),B=a(115),R=a(116),L=a(117),I=a(118),U=a(119),A=a(120),M=a(121),F=a(133),H=a(122),z=a(123),J=a(124),K=a(57),W=a(125),Y=a(126),_=a(127),q=a(26),$=a.n(q),G=a(15),Q=a.n(G),V=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).toggleDropDownSearchBy=a.toggleDropDownSearchBy.bind(Object(g.a)(a)),a.toggleDropDownResultPerPage=a.toggleDropDownResultPerPage.bind(Object(g.a)(a)),a.selectSearchByParam=a.selectSearchByParam.bind(Object(g.a)(a)),a.selectResultPerPageParam=a.selectResultPerPageParam.bind(Object(g.a)(a)),a.handleSearch=a.handleSearch.bind(Object(g.a)(a)),a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(g.a)(a)),a.handlePageChange=a.handlePageChange.bind(Object(g.a)(a)),a.fetchStudentData=a.fetchStudentData.bind(Object(g.a)(a)),a.renderButtonText=a.renderButtonText.bind(Object(g.a)(a)),a.renderPagination=a.renderPagination.bind(Object(g.a)(a)),a.renderStudentList=a.renderStudentList.bind(Object(g.a)(a)),a.state={loading:!1,dropDownSearchByText:"Search By: NIM",dropDownSearchByOpen:!1,dropDownResultPerPageText:"Result Per Page: 10",dropDownResultPerPageOpen:!1,studentList:[],searchText:"13517",page:0,searchBy:"id",maxItem:10,cookiesToken:"",prevBtnEnable:!1,nextBtnEnable:!1,redirect:"",nextPageAvailable:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=(new S.a).get("token");t&&""!==t?this.setState({cookiesToken:t},function(){e.fetchStudentData()}):Q.a.fire({title:"You need to Log In first!",type:"info",timer:"2000",animation:!0}).then(function(){e.setState({redirect:"/login"})})}},{key:"handleSearch",value:function(){var e=this;this.setState({page:0},function(){e.fetchStudentData()})}},{key:"handleSearchTextChange",value:function(e){var t=e.target;this.setState({searchText:t.value})}},{key:"handlePageChange",value:function(e){var t=this;this.setState({page:e},function(){t.fetchStudentData()})}},{key:"toggleDropDownSearchBy",value:function(){this.setState({dropDownSearchByOpen:!this.state.dropDownSearchByOpen})}},{key:"toggleDropDownResultPerPage",value:function(){this.setState({dropDownResultPerPageOpen:!this.state.dropDownResultPerPageOpen})}},{key:"selectSearchByParam",value:function(e){var t=e.target;this.setState({dropDownSearchByText:"Search By: "+t.name,searchBy:t.value})}},{key:"selectResultPerPageParam",value:function(e){var t=e.target;this.setState({dropDownResultPerPageText:"Result Per Page: "+t.value,maxItem:t.value})}},{key:"fetchStudentData",value:function(){var e,t=this,a=this.state,n=a.searchText,r=a.searchBy,l=a.maxItem,s=a.page,o=a.cookiesToken;""!==n?(this.setState({loading:!0}),e="id"===r?{query:n,count:l,page:s}:{name:n,count:l,page:s},N.a.get("https://api.stya.net/nim/by"+r,{params:e,headers:{"Auth-Token":o}}).then(function(a){var n=a.data;n&&"OK"===n.status?(t.setState({studentList:n.payload}),n.payload.length>0?(e.page+=1,N.a.get("https://api.stya.net/nim/by"+r,{params:e,headers:{"Auth-Token":o}}).then(function(e){var a=e.data;a&&a.payload&&a.payload.length>0&&t.setState({nextPageAvailable:!0})})):t.setState({nextPageAvailable:!1})):Q.a.fire({title:"Oops..",type:"info",text:"Could not contact the server",timer:"2000",animation:!0})}).catch(function(){Q.a.fire({type:"error",title:"Oops...",text:"Could not contact the server"})}).finally(function(){t.setState({loading:!1})})):this.setState({studentList:[]})}},{key:"renderButtonText",value:function(){return this.state.loading?r.a.createElement($.a,{name:"spinner",spin:!0}):"Search"}},{key:"renderPagination",value:function(){var e=this,t=this.state,a=t.page,n=t.nextPageAvailable;return r.a.createElement(B.a,null,r.a.createElement(R.a,{className:"text-center",style:{marginRight:"auto",width:"90px"},disabled:0===a},r.a.createElement(L.a,{href:"#",onClick:function(t){t.preventDefault(),e.handlePageChange(a-1)}},"Previous")),r.a.createElement(R.a,{className:"text-center",style:{marginLeft:"auto",width:"90px"},disabled:!n},r.a.createElement(L.a,{href:"#",onClick:function(t){t.preventDefault(),e.handlePageChange(a+1)}},"Next")))}},{key:"renderStudentList",value:function(){var e=this.state.studentList;return e.length>0?e.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.nim_tpb),r.a.createElement("td",null,e.nim_jur),r.a.createElement("td",null,e.prodi))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:4,className:"text-center"},"No Student Found"))}},{key:"render",value:function(){var e=this,t=this.state,a=t.redirect,n=t.searchText,l=t.dropDownSearchByOpen,s=t.dropDownSearchByText,o=t.dropDownResultPerPageOpen,c=t.dropDownResultPerPageText;return a?r.a.createElement(i.a,{to:{pathname:a},push:!0}):r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement(k.a,null,r.a.createElement(j.a,{xs:"12",sm:"12",md:"12"},r.a.createElement(I.a,{className:"home-card"},r.a.createElement(U.a,null,r.a.createElement(A.a,null,r.a.createElement(M.a,{placeholder:"Search...",onChange:this.handleSearchTextChange,value:n||"",name:"search-text",onKeyPress:function(t){13===t.which&&e.handleSearch()}}),r.a.createElement(F.a,{addonType:"append",isOpen:l,toggle:this.toggleDropDownSearchBy},r.a.createElement(H.a,{color:"success",caret:!0},s),r.a.createElement(z.a,{onClick:this.selectSearchByParam},r.a.createElement(J.a,{name:"NIM",value:"id"},"NIM"),r.a.createElement(J.a,{name:"Nama",value:"name"},"Nama"))),r.a.createElement(F.a,{addonType:"append",isOpen:o,toggle:this.toggleDropDownResultPerPage},r.a.createElement(H.a,{color:"primary",caret:!0},c),r.a.createElement(z.a,{onClick:this.selectResultPerPageParam},r.a.createElement(J.a,{value:"10"},"10"),r.a.createElement(J.a,{value:"25"},"25"),r.a.createElement(J.a,{value:"50"},"50"),r.a.createElement(J.a,{value:"100"},"100"))),r.a.createElement(K.a,{className:"ml-2",color:"primary",onClick:this.handleSearch},this.renderButtonText()))),r.a.createElement(W.a,{className:"card-table"},r.a.createElement(Y.a,{responsive:!0,striped:!0,className:"mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nama"),r.a.createElement("th",null,"NIM TPB"),r.a.createElement("th",null,"NIM Jurusan"),r.a.createElement("th",null,"Prodi"))),r.a.createElement("tbody",null,this.renderStudentList()))),r.a.createElement(_.a,null,this.renderPagination()))))))}}]),t}(r.a.PureComponent),X=Object(i.f)(V),Z=a(23),ee=a(128),te=a(129),ae=a(130),ne=a(131),re=a(132),le=a(35),se=a.n(le),oe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={username:"",loading:!1,password:"",conpassword:"",passwordError:"",redirect:"",usernameError:""},a.handleUsernameChange=a.handleUsernameChange.bind(Object(g.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(g.a)(a)),a.handleConPasswordChange=a.handleConPasswordChange.bind(Object(g.a)(a)),a.renderButtonText=a.renderButtonText.bind(Object(g.a)(a)),a.onRegisterPress=a.onRegisterPress.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=(new S.a).get("token");t&&t.length>0&&Q.a.fire({title:"You have already Log In",type:"info",text:"Redirecting...",timer:"2000",animation:!0}).then(function(){e.setState({redirect:"/"})})}},{key:"handleUsernameChange",value:function(e){var t=e.target,a="";t.value&&t.value.length>20&&(a="Username melebihi batas 20 karakter"),this.setState({username:t.value,usernameError:a})}},{key:"handlePasswordChange",value:function(e){var t=e.target,a=this.state.conpassword,n="";(a.length>t.value.length||a.length===t.value.length&&a!==t.value)&&(n="Confirmation password doesn't match"),this.setState({password:t.value,passwordError:n})}},{key:"handleConPasswordChange",value:function(e){var t=e.target,a=this.state.password,n="";(t.value.length>a.length||a.length===t.value.length&&a!==t.value)&&(n="Confirmation password doesn't match"),this.setState({conpassword:t.value,passwordError:n})}},{key:"onRegisterPress",value:function(){var e=this,t=this.state,a=t.username,n=t.password;if(n!==t.conpassword)this.setState({passwordError:"Password confirmation doesn't match"});else{this.setState(function(e){return Object(Z.a)({},e,{loading:!0})});Object(T.post)("https://api.stya.net/nim/register",se.a.stringify({username:a,password:n}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;"OK"===a.status?e.setState({email:"",username:"",password:"",conpassword:""},function(){Q.a.fire({title:"Success",type:"success",text:"Register success, please login",timer:"1500",animation:!0}).then(function(){e.setState({loading:!1,redirect:"/login"})})}):(Q.a.fire({title:"Failed",type:"info",text:a.status,timer:"2000",animation:!0}),e.setState({username:"",password:"",conpassword:"",loading:!1}))}).catch(function(){Q.a.fire({title:"Error",type:"error",text:"Failed to contact the server",timer:"1500",animation:!0}),e.setState({loading:!1})})}}},{key:"renderButtonText",value:function(){return this.state.loading?r.a.createElement($.a,{name:"spinner",size:"2x",spin:!0}):"Register"}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.conpassword,l=e.usernameError,s=e.passwordError,c=e.loading,u=e.redirect;return u?r.a.createElement(i.a,{to:{pathname:u},push:!0}):r.a.createElement("div",{style:{flex:"1 1 auto",display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem 0"}},r.a.createElement(f.a,null,r.a.createElement(j.a,{style:{maxWidth:"24rem"},className:"mx-auto"},r.a.createElement("div",{className:"text-center mb-4"},r.a.createElement("h3",null,"Aromage NIMFinder")),r.a.createElement(ee.a,{className:"card",onSubmit:function(e){return e.preventDefault()}},r.a.createElement(W.a,{className:"p-4"},r.a.createElement(te.a,{style:{fontSize:"1.125rem"}},"Create new account"),r.a.createElement(ae.a,null,r.a.createElement(ne.a,{for:"register-username"},"Username"),r.a.createElement(M.a,{type:"text",onChange:this.handleUsernameChange,value:t||"",name:"username",id:"register-username",placeholder:" ",invalid:l.length>0}),r.a.createElement(re.a,{style:{display:l.length>0&&""!==t?"block":"none"}},l)),r.a.createElement(ae.a,null,r.a.createElement(ne.a,{for:"register-password"},"Password"),r.a.createElement(M.a,{type:"password",name:"password",id:"register-password",onChange:this.handlePasswordChange,placeholder:" ",value:a||""})),r.a.createElement(ae.a,null,r.a.createElement(ne.a,{for:"register-conpassword"},"Password Confirmation"),r.a.createElement(M.a,{type:"password",name:"conpassword",id:"register-conpassword",onChange:this.handleConPasswordChange,placeholder:" ",value:n||"",invalid:s.length>0,valid:0===s.length&&a===n&&a.length>0}),r.a.createElement(re.a,{style:{display:s.length>0&&""!==a?"block":"none"}},s)),r.a.createElement("div",{style:{marginTop:"1.5rem"}},r.a.createElement(K.a,{color:"primary",className:"btn-red",block:!0,onClick:this.onRegisterPress,type:"submit",disabled:s.length>0||c||t.length<1||a.length<1||a.length!==n.length||t.length>20},this.renderButtonText())))),r.a.createElement("div",{className:"text-center mt-2"},r.a.createElement(o.b,{to:"/login"},"Already have an account account? Sign In")))))}}]),t}(r.a.PureComponent),ie=Object(i.f)(oe),ce=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={username:"",password:"",loading:!1,usernameError:"",passwordError:"",error:"",redirect:""},a.handlePasswordChange=a.handlePasswordChange.bind(Object(g.a)(a)),a.handleUsernameChange=a.handleUsernameChange.bind(Object(g.a)(a)),a.renderButtonText=a.renderButtonText.bind(Object(g.a)(a)),a.onLoginPress=a.onLoginPress.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=(new S.a).get("token");t&&t.length>0&&Q.a.fire({title:"You have already Log In",type:"info",text:"Redirecting...",timer:"2000",animation:!0}).then(function(){e.setState({redirect:"/"})})}},{key:"onLoginPress",value:function(){var e=this,t=this.state,a=t.username,n=t.password;this.setState({loading:!0});N.a.post("https://api.stya.net/nim/login",se.a.stringify({username:a,password:n}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;"OK"===a.status?Q.a.fire({title:"Success",type:"success",text:"Log In success!",timer:"1500",animation:!0}).then(function(){(new S.a).set("token",a.token,{maxAge:86400}),e.setState({redirect:"/"})}):Q.a.fire({title:"Failed",type:"info",text:a.status,timer:"2000",animation:!0})}).catch(function(){Q.a.fire({title:"Error",type:"info",text:"Login failed",timer:"2000",animation:!0})}).finally(function(){e.setState({loading:!1,password:""})})}},{key:"handleUsernameChange",value:function(e){var t=e.target,a="";t.value&&t.value.length>20&&(a="Username melebihi batas 20 karakter"),this.setState({username:t.value,usernameError:a})}},{key:"handlePasswordChange",value:function(e){var t=e.target;this.setState({password:t.value,error:""})}},{key:"renderButtonText",value:function(){return this.state.loading?r.a.createElement($.a,{name:"spinner",size:"2x",spin:!0}):"Login"}},{key:"renderError",value:function(){var e=this.state.error;return""!==e?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},e):null}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.loading,l=e.usernameError,s=e.passwordError,c=e.redirect;return c?r.a.createElement(i.a,{to:{pathname:c},push:!0}):r.a.createElement("div",{style:{flex:"1 1 auto",display:"flex",justifyContent:"center",alignItems:"center",padding:"1rem 0"}},r.a.createElement(f.a,null,r.a.createElement(k.a,null,r.a.createElement(j.a,{style:{maxWidth:"24rem"},className:"mx-auto"},r.a.createElement("div",{className:"text-center mb-4"},r.a.createElement("h3",null,"Aromage NIMFinder")),r.a.createElement(ee.a,{className:"card",onSubmit:function(e){return e.preventDefault()}},r.a.createElement(W.a,{className:"p-4"},r.a.createElement(te.a,{style:{fontSize:"1.125rem"}},"Login to your account"),r.a.createElement(ae.a,null,r.a.createElement(ne.a,{for:"login-username"},"Username"),r.a.createElement(M.a,{type:"text",onChange:this.handleUsernameChange,value:t||"",name:"username",id:"login-username",placeholder:" ",invalid:l.length>0}),r.a.createElement(re.a,{style:{display:l.length>0&&""!==t?"block":"none"}},l)),r.a.createElement(ae.a,null,r.a.createElement(ne.a,{for:"login-password"},"Password"),r.a.createElement(M.a,{type:"password",name:"password",id:"login-password",onChange:this.handlePasswordChange,placeholder:" ",value:a||""}),r.a.createElement(re.a,{style:{display:s.length>0&&""!==a?"block":"none"}},s)),r.a.createElement("div",{style:{marginTop:"1.5rem"}},r.a.createElement(K.a,{color:"primary",block:!0,onClick:this.onLoginPress,type:"submit",disabled:s.length>0||n||t.length<1||a.length<1||t.length>20},this.renderButtonText())))),r.a.createElement("div",{className:"text-center mt-2"},r.a.createElement(o.b,{to:"/register"},"Don't have account? Sign Up"))))))}}]),t}(r.a.PureComponent),ue=Object(i.f)(ce),de=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(k.a,null,r.a.createElement(j.a,{sm:"12",className:"text-center"},r.a.createElement("h1",null,"404 Not Found :("),r.a.createElement("p",null,"The page that you are looking for is not here, sorry"),r.a.createElement(o.b,{to:"/"},r.a.createElement(K.a,{color:"primary"},"Home")))))}}]),t}(r.a.PureComponent),me=Object(i.f)(de);var he=function(){return r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(D,{path:"/",exact:!0,component:X}),r.a.createElement(D,{auth:!0,path:"/register",component:ie}),r.a.createElement(D,{auth:!0,path:"/login",component:ue}),r.a.createElement(D,{nomatch:!0,path:"/404",component:me}),r.a.createElement(D,{nomatch:!0,component:me})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(102),a(103);s.a.render(r.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},58:function(e,t,a){e.exports=a(104)},63:function(e,t,a){},79:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.febe3788.chunk.js.map